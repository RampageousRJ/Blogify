{% extends 'base.html' %}

{% block title %}
{{ current_user.username }} Dashboard
{% endblock %}

{% block body %}
    <br />
    <div class="shadow p-3 mb-5 bg-dark rounded">
        <h3 class="text-center">User Dashboard</h3>
    </div>
    <div class="card bg-dark">
        <div class="card-header">
            <div clas="container">
                <div class="row">
                    <div class="col-md-6">
                        <h4>{{ current_user.username }}</h4>
                    </div>
                    <div class="col-md-6 text-right">
                        <a href="{{url_for('delete',id=current_user.id)}}" class='btn btn-danger'><img src="{{url_for('static',filename="images/trash.png")}}" alt="Delete Logo"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row d-flex flex-wrap align-items-center">
                <div class="col-md-8">
                    <div class="card-body">
                        {% if current_user.about %}
                            <em>&ldquo;{{current_user.about}}&rdquo;</em>
                            <br>
                            <br>
                        {% endif %}
                        <strong>ID: </strong>{{current_user.id}}<br>
                        <strong>Name: </strong>{{current_user.name}}<br>
                        <strong>Email: </strong>{{current_user.email}}<br>
                        <strong>Favourite Colour: </strong>{{current_user.color}}<br>
                        <strong>Date-Added: </strong>{{current_user.date_added}}
                      </div>
                </div>
                <div class="col-md-4 text-right">
                    <img src="{{url_for('static',filename='images/profile.jpg')}}" alt="" style="border-radius: 50%; max-width: 35%; min-width: 10%;">
                </div>
            </div>
        </div>
        <div class="card-footer">
            <a href="{{url_for('logout')}}" class="btn btn-danger">Logout</a>
        </div>
        
    </div>
    <br>
    <br>
    <br>
    <div class="card bg-dark">
        <div class="card-header">
            <h4>Update User</h4>
        </div>
        <form action='dashboard' method="POST" class='form-register'>
            <div class="card-body">
                <div class="form-labels">
                    {{form.hidden_tag()}}
                    {{form.name.label()}}
                    {{form.name(class='form-control', value=current_user.name)}}
                    <br> 
                    {{form.username.label()}}
                    {{form.username(class='form-control', value=current_user.username)}}
                    <br> 
                    {{form.email.label()}}
                    {{form.email(class='form-control', value=current_user.email)}}
                    <br>
                    {{form.color.label()}}
                    {{form.color(class='form-control', value=current_user.color)}}
                    <br>
                    {{form.about.label()}}
                    {{form.about(class='form-control', value=current_user.about, rows=5)}}
                </div> 
            </div>
            <div class="card-footer">
                <div class="row">
                    <div class="col-md-4"></div>
                    <div class="col-md-2 text-center">
                        {{ form.submit(class = 'btn btn-success') }}
                    </div>
                    <div class="col-md-2 text-center">
                        <a href="{{url_for('delete',id=current_user.id)}}" class='btn btn-danger'>Delete</a>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <br />
{% endblock %}
